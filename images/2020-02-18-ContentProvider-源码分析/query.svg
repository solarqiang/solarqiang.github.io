<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="763px" preserveAspectRatio="none" style="width:938px;height:763px;" version="1.1" viewBox="0 0 938 763" width="938px" zoomAndPan="magnify"><defs><filter height="300%" id="f7ijp5eaaljhl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="370.75" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="106" y="69.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="69.7988" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="69.7988" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="116" y1="69.7988" y2="69.7988"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="223.8633" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="106" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="116" y1="705.3672" y2="705.3672"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="333.4395" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="107.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="107.1094" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="107.1094" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="107.1094" y2="107.1094"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="223.8633" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="705.3672" y2="705.3672"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="299.1289" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="292" y="141.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="292" y1="141.4199" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="302" y1="141.4199" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="302" y1="141.4199" y2="141.4199"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="194.5527" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="292" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="292" y1="481.5039" y2="676.0566"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="302" y1="481.5039" y2="676.0566"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="302" y1="676.0566" y2="676.0566"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="178.7305"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="611.7461"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="182.5078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511" y="243.041"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="34.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511" y="540.125"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="133.1973" style="stroke: #000000; stroke-width: 2.0;" width="508" x="418.5" y="258.041"/><rect fill="#FFFFFF" height="57.2656" style="stroke: none; stroke-width: 1.0;" width="508" x="418.5" y="333.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110.5" x2="110.5" y1="38.4883" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="110.5" x2="110.5" y1="440.5488" y2="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="110.5" x2="110.5" y1="481.5039" y2="723.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="38.4883" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="297" x2="297" y1="440.5488" y2="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="481.5039" y2="723.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="515.5" y1="38.4883" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="515.5" x2="515.5" y1="440.5488" y2="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="515.5" y1="481.5039" y2="723.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="691" x2="691" y1="38.4883" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="691" x2="691" y1="440.5488" y2="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="691" x2="691" y1="481.5039" y2="723.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853.5" x2="853.5" y1="38.4883" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="853.5" x2="853.5" y1="440.5488" y2="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853.5" x2="853.5" y1="481.5039" y2="723.3672"/><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="45.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="52.5" y="23.5352">ContentResolver</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="45.5" y="722.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="52.5" y="742.9023">ContentResolver</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="239" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="246" y="23.5352">ActivityThread</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="239" y="722.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="246" y="742.9023">ActivityThread</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="428.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="435.5" y="23.5352">ActivityManagerService</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="428.5" y="722.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="435.5" y="742.9023">ActivityManagerService</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="614" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="621" y="23.5352">ApplicationThread2</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="614" y="722.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="621" y="742.9023">ApplicationThread2</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="791.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="798.5" y="23.5352">ActivityThread2</text><rect fill="#FEFECE" filter="url(#f7ijp5eaaljhl)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="791.5" y="722.3672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="798.5" y="742.9023">ActivityThread2</text><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="370.75" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="106" y="69.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="69.7988" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="69.7988" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="116" y1="69.7988" y2="69.7988"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="223.8633" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="106" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="116" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="116" y1="705.3672" y2="705.3672"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="333.4395" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="107.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="107.1094" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="107.1094" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="107.1094" y2="107.1094"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="223.8633" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="111" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="121" y1="481.5039" y2="705.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="121" y1="705.3672" y2="705.3672"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="299.1289" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="292" y="141.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="292" y1="141.4199" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="302" y1="141.4199" y2="440.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="302" y1="141.4199" y2="141.4199"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="194.5527" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="292" y="481.5039"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="292" y1="481.5039" y2="676.0566"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="302" y1="481.5039" y2="676.0566"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="302" y1="676.0566" y2="676.0566"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="178.7305"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="297" y="611.7461"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="182.5078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511" y="243.041"/><rect fill="#FFFFFF" filter="url(#f7ijp5eaaljhl)" height="34.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511" y="540.125"/><polygon fill="#A80036" points="94,65.7988,104,69.7988,94,73.7988,98,69.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="100" y1="69.7988" y2="69.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="10" y="65.0566">query</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="116" x2="163" y1="94.1094" y2="94.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="163" y1="94.1094" y2="107.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="163" y1="107.1094" y2="107.1094"/><polygon fill="#A80036" points="132,103.1094,122,107.1094,132,111.1094,128,107.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="128" y="89.3672">acquireUnstableProvider</text><polygon fill="#A80036" points="280,137.4199,290,141.4199,280,145.4199,284,141.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121" x2="286" y1="141.4199" y2="141.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="128" y="136.6777">acquireProvider</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="307" x2="349" y1="170.7305" y2="170.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="349" x2="349" y1="170.7305" y2="183.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="308" x2="349" y1="183.7305" y2="183.7305"/><polygon fill="#A80036" points="318,179.7305,308,183.7305,318,187.7305,314,183.7305" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="314" y="165.9883">acquireExistingProvider</text><polygon fill="#A80036" points="499,239.041,509,243.041,499,247.041,503,243.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="505" y1="243.041" y2="243.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="309" y="238.2988">getContentProvider</text><path d="M418.5,258.041 L480.5,258.041 L480.5,265.041 L470.5,275.041 L418.5,275.041 L418.5,258.041 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.1973" style="stroke: #000000; stroke-width: 2.0;" width="508" x="418.5" y="258.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="433.5" y="271.6094">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="495.5" y="270.6758">[应用进程已启动]</text><polygon fill="#A80036" points="679,292.6621,689,296.6621,679,300.6621,683,296.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="521" x2="685" y1="296.6621" y2="296.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="528" y="291.9199">scheduleInstallProvider</text><polygon fill="#A80036" points="842,321.9727,852,325.9727,842,329.9727,846,325.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="691" x2="848" y1="325.9727" y2="325.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="698" y="321.2305"> handleInstallProvider</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="418.5" x2="926.5" y1="334.9727" y2="334.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="423.5" y="345.6074">[应用进程未启动]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="521" x2="563" y1="370.2383" y2="370.2383"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="563" x2="563" y1="370.2383" y2="383.2383"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="522" x2="563" y1="383.2383" y2="383.2383"/><polygon fill="#A80036" points="532,379.2383,522,383.2383,532,387.2383,528,383.2383" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="528" y="365.4961">startProcessLocked</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="521" x2="563" y1="424.5488" y2="424.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="563" x2="563" y1="424.5488" y2="437.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="516" x2="563" y1="437.5488" y2="437.5488"/><polygon fill="#A80036" points="526,433.5488,516,437.5488,526,441.5488,522,437.5488" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="528" y="419.8066">wait</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="413.5" y="465.1836">等待 ContentProvider 就绪</text><polygon fill="#A80036" points="527,498.8145,517,502.8145,527,506.8145,523,502.8145" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="521" x2="853" y1="502.8145" y2="502.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="533" y="498.0723">publishContentProviders</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="516" x2="563" y1="527.125" y2="527.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="563" x2="563" y1="527.125" y2="540.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="522" x2="563" y1="540.125" y2="540.125"/><polygon fill="#A80036" points="532,536.125,522,540.125,532,544.125,528,540.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="528" y="522.3828">notifyAll</text><polygon fill="#A80036" points="313,570.4355,303,574.4355,313,578.4355,309,574.4355" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="307" x2="515" y1="574.4355" y2="574.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="319" y="569.6934">return ContentProviderHolder</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="307" x2="349" y1="603.7461" y2="603.7461"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="349" x2="349" y1="603.7461" y2="616.7461"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="308" x2="349" y1="616.7461" y2="616.7461"/><polygon fill="#A80036" points="318,612.7461,308,616.7461,318,620.7461,314,616.7461" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="314" y="599.0039">installProvider</text><polygon fill="#A80036" points="132,672.0566,122,676.0566,132,680.0566,128,676.0566" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="296" y1="676.0566" y2="676.0566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="138" y="671.3145">return IContentProvider</text><polygon fill="#A80036" points="14,701.3672,4,705.3672,14,709.3672,10,705.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="110" y1="705.3672" y2="705.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="20" y="700.625">return Cursor</text><!--
@startuml query
[-> ContentResolver: query
activate ContentResolver
ContentResolver -> ContentResolver ++: acquireUnstableProvider
ContentResolver -> ActivityThread ++: acquireProvider
ActivityThread -> ActivityThread ++: acquireExistingProvider
deactivate ActivityThread
ActivityThread -> ActivityManagerService ++: getContentProvider
alt 应用进程已启动
    ActivityManagerService -> ApplicationThread2: scheduleInstallProvider
    ApplicationThread2 -> ActivityThread2:  handleInstallProvider
else 应用进程未启动
    ActivityManagerService -> ActivityManagerService: startProcessLocked
end
ActivityManagerService - -> ActivityManagerService: wait
deactivate ActivityManagerService
... 等待 ContentProvider 就绪 ...
ActivityThread2 -> ActivityManagerService: publishContentProviders
ActivityManagerService - -> ActivityManagerService ++: notifyAll
ActivityManagerService - -> ActivityThread: return ContentProviderHolder
deactivate ActivityManagerService
ActivityThread -> ActivityThread ++: installProvider
deactivate ActivityThread
ActivityThread -> ContentResolver - -: return IContentProvider
ContentResolver - ->[: return Cursor
deactivate ContentResolver
deactivate ContentResolver
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.2+13
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: US-ASCII
Language: zh
Country: CN
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="992px" preserveAspectRatio="none" style="width:498px;height:992px;" version="1.1" viewBox="0 0 498 992" width="498px" zoomAndPan="magnify"><defs><filter height="300%" id="fmrl78keiqi4u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a83d828be13d333e1fddb3d4d9d97191]
class Handler--><rect fill="#FEFECE" filter="url(#fmrl78keiqi4u)" height="240.0703" id="Handler" style="stroke: #A80036; stroke-width: 1.5;" width="373" x="83.5" y="8"/><ellipse cx="241.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M243.5938,19.6719 L243.7656,19.75 C243.9844,19.4375 244.1875,19.3438 244.4844,19.3438 C244.7813,19.3438 245.0625,19.4844 245.2188,19.75 C245.3125,19.9063 245.3281,20.0313 245.3281,20.4688 L245.3281,21.8906 C245.3281,22.3125 245.2969,22.5 245.1875,22.6563 C245.0156,22.875 244.75,23.0156 244.4844,23.0156 C244.2656,23.0156 244.0313,22.9063 243.8906,22.7656 C243.75,22.6406 243.7188,22.5156 243.6563,22.1094 C243.5625,21.7031 243.3906,21.4844 242.9063,21.2031 C242.4375,20.9531 241.8281,20.7969 241.25,20.7969 C239.5156,20.7969 238.2656,22.1094 238.2656,23.8906 L238.2656,24.9844 C238.2656,26.6875 239.5625,27.7813 241.6094,27.7813 C242.375,27.7813 243.0625,27.6563 243.4844,27.3906 C243.6719,27.2969 243.6719,27.2969 244.125,26.8125 C244.3125,26.625 244.5156,26.5469 244.7344,26.5469 C245.2031,26.5469 245.5938,26.9375 245.5938,27.3906 C245.5938,27.7813 245.2656,28.2344 244.6875,28.6406 C243.9375,29.1875 242.7813,29.4844 241.5625,29.4844 C238.6719,29.4844 236.5625,27.5938 236.5625,25.0156 L236.5625,23.8906 C236.5625,21.1719 238.5625,19.0938 241.1875,19.0938 C242.0625,19.0938 242.6563,19.2344 243.5938,19.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="261.75" y="28.1543">Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="84.5" x2="455.5" y1="40" y2="40"/><polygon fill="none" points="94.5,47,90.5,53,98.5,53" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="103.5" y="54.2104">Looper mLooper</text><polygon fill="none" points="94.5,59.8047,90.5,65.8047,98.5,65.8047" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="103.5" y="67.0151">MessageQueue mQueue</text><polygon fill="none" points="94.5,72.6094,90.5,78.6094,98.5,78.6094" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="103.5" y="79.8198">Callback mCallback</text><polygon fill="none" points="94.5,85.4141,90.5,91.4141,98.5,91.4141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="103.5" y="92.6245">boolean mAsynchronous</text><polygon fill="none" points="94.5,98.2188,90.5,104.2188,98.5,104.2188" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="103.5" y="105.4292">IMessenger mMessenger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="84.5" x2="455.5" y1="112.0234" y2="112.0234"/><ellipse cx="94.5" cy="123.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="103.5" y="126.2339">static createAsync(Looper, Callback)</text><ellipse cx="94.5" cy="135.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="103.5" y="139.0386">handleMessage(Message)</text><ellipse cx="94.5" cy="148.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="103.5" y="151.8433">sendMessage(Message): boolean</text><ellipse cx="94.5" cy="161.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="103.5" y="164.6479">post(Runnable</text><ellipse cx="94.5" cy="174.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="103.5" y="177.4526">obtainMessage(): Message</text><ellipse cx="94.5" cy="187.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="103.5" y="190.2573">removeMessages(int, Object)</text><ellipse cx="94.5" cy="199.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="103.5" y="203.062">removeCallbacks(Runnable, Object)</text><ellipse cx="94.5" cy="212.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="103.5" y="215.8667">dispatchMessage(Message)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91.5" y="222.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="347" x="103.5" y="228.6714">enqueueMessage(MessageQueue, Messsage, long): boolean</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="91.5" y="235.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="103.5" y="241.4761">static getPostMessage(Runnable): Message</text><!--MD5=[d8a0bd2fab2ee6dfd7e648a797c13176]
class Looper--><rect fill="#FEFECE" filter="url(#fmrl78keiqi4u)" height="214.4609" id="Looper" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="154" y="308"/><ellipse cx="244.25" cy="324" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M246.5938,319.6719 L246.7656,319.75 C246.9844,319.4375 247.1875,319.3438 247.4844,319.3438 C247.7813,319.3438 248.0625,319.4844 248.2188,319.75 C248.3125,319.9063 248.3281,320.0313 248.3281,320.4688 L248.3281,321.8906 C248.3281,322.3125 248.2969,322.5 248.1875,322.6563 C248.0156,322.875 247.75,323.0156 247.4844,323.0156 C247.2656,323.0156 247.0313,322.9063 246.8906,322.7656 C246.75,322.6406 246.7188,322.5156 246.6563,322.1094 C246.5625,321.7031 246.3906,321.4844 245.9063,321.2031 C245.4375,320.9531 244.8281,320.7969 244.25,320.7969 C242.5156,320.7969 241.2656,322.1094 241.2656,323.8906 L241.2656,324.9844 C241.2656,326.6875 242.5625,327.7813 244.6094,327.7813 C245.375,327.7813 246.0625,327.6563 246.4844,327.3906 C246.6719,327.2969 246.6719,327.2969 247.125,326.8125 C247.3125,326.625 247.5156,326.5469 247.7344,326.5469 C248.2031,326.5469 248.5938,326.9375 248.5938,327.3906 C248.5938,327.7813 248.2656,328.2344 247.6875,328.6406 C246.9375,329.1875 245.7813,329.4844 244.5625,329.4844 C241.6719,329.4844 239.5625,327.5938 239.5625,325.0156 L239.5625,323.8906 C239.5625,321.1719 241.5625,319.0938 244.1875,319.0938 C245.0625,319.0938 245.6563,319.2344 246.5938,319.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="264.75" y="328.1543">Looper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="155" x2="385" y1="340" y2="340"/><polygon fill="none" points="165,347,161,353,169,353" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="174" y="354.2104">ThreadLocal&lt;Looper&gt; sThreadLocal</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="162" y="360.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="174" y="367.0151">static Looper sMainLooper</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="162" y="373.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="174" y="379.8198">static Observer sObserver</text><polygon fill="none" points="165,385.4141,161,391.4141,169,391.4141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="174" y="392.6245">MessageQueue mQueue</text><polygon fill="none" points="165,398.2188,161,404.2188,169,404.2188" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="174" y="405.4292">Thread mThread</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="155" x2="385" y1="412.0234" y2="412.0234"/><ellipse cx="165" cy="423.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="174" y="426.2339">static loop()</text><ellipse cx="165" cy="435.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="174" y="439.0386">static myLooper()</text><ellipse cx="165" cy="448.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="174" y="451.8433">static myQueue()</text><ellipse cx="165" cy="461.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="174" y="464.6479">static prepare(boolean)</text><ellipse cx="165" cy="474.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="174" y="477.4526">static prepareMainLooper()</text><ellipse cx="165" cy="487.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="174" y="490.2573">static getMainLooper()</text><ellipse cx="165" cy="499.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="174" y="503.062">static setObserver(Observer)</text><ellipse cx="165" cy="512.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="174" y="515.8667">quit()</text><!--MD5=[77668392e423fee4515f0e88e4ca0ebb]
class MessageQueue--><rect fill="#FEFECE" filter="url(#fmrl78keiqi4u)" height="163.2422" id="MessageQueue" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="6" y="582"/><ellipse cx="88.25" cy="598" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M90.5938,593.6719 L90.7656,593.75 C90.9844,593.4375 91.1875,593.3438 91.4844,593.3438 C91.7813,593.3438 92.0625,593.4844 92.2188,593.75 C92.3125,593.9063 92.3281,594.0313 92.3281,594.4688 L92.3281,595.8906 C92.3281,596.3125 92.2969,596.5 92.1875,596.6563 C92.0156,596.875 91.75,597.0156 91.4844,597.0156 C91.2656,597.0156 91.0313,596.9063 90.8906,596.7656 C90.75,596.6406 90.7188,596.5156 90.6563,596.1094 C90.5625,595.7031 90.3906,595.4844 89.9063,595.2031 C89.4375,594.9531 88.8281,594.7969 88.25,594.7969 C86.5156,594.7969 85.2656,596.1094 85.2656,597.8906 L85.2656,598.9844 C85.2656,600.6875 86.5625,601.7813 88.6094,601.7813 C89.375,601.7813 90.0625,601.6563 90.4844,601.3906 C90.6719,601.2969 90.6719,601.2969 91.125,600.8125 C91.3125,600.625 91.5156,600.5469 91.7344,600.5469 C92.2031,600.5469 92.5938,600.9375 92.5938,601.3906 C92.5938,601.7813 92.2656,602.2344 91.6875,602.6406 C90.9375,603.1875 89.7813,603.4844 88.5625,603.4844 C85.6719,603.4844 83.5625,601.5938 83.5625,599.0156 L83.5625,597.8906 C83.5625,595.1719 85.5625,593.0938 88.1875,593.0938 C89.0625,593.0938 89.6563,593.2344 90.5938,593.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="108.75" y="602.1543">MessageQueue</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="275" y1="614" y2="614"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="622"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="26" y="628.2104">boolean mQuitting</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="634.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="26" y="641.0151">boolean mQuiAllowed</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="647.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="26" y="653.8198">long mPtr</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="275" y1="660.4141" y2="660.4141"/><polygon fill="#4177AF" points="17,667.4141,13,673.4141,21,673.4141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="26" y="674.6245">next(): Message</text><polygon fill="#4177AF" points="17,680.2188,13,686.2188,21,686.2188" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="26" y="687.4292">quit(): boolean</text><ellipse cx="17" cy="697.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="26" y="700.2339">postSyncBarrier(long): int</text><ellipse cx="17" cy="709.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="26" y="713.0386">removeSyncBarrier(int)</text><polygon fill="#4177AF" points="17,718.6328,13,724.6328,21,724.6328" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="26" y="725.8433">enqueueMessage(Message, long): boolean</text><polygon fill="#4177AF" points="17,731.4375,13,737.4375,21,737.4375" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="26" y="738.6479">removeMessages(Handler, int, Object)</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect fill="#FEFECE" filter="url(#fmrl78keiqi4u)" height="176.0469" id="Message" style="stroke: #A80036; stroke-width: 1.5;" width="317" x="170.5" y="805"/><ellipse cx="296.75" cy="821" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M299.0938,816.6719 L299.2656,816.75 C299.4844,816.4375 299.6875,816.3438 299.9844,816.3438 C300.2813,816.3438 300.5625,816.4844 300.7188,816.75 C300.8125,816.9063 300.8281,817.0313 300.8281,817.4688 L300.8281,818.8906 C300.8281,819.3125 300.7969,819.5 300.6875,819.6563 C300.5156,819.875 300.25,820.0156 299.9844,820.0156 C299.7656,820.0156 299.5313,819.9063 299.3906,819.7656 C299.25,819.6406 299.2188,819.5156 299.1563,819.1094 C299.0625,818.7031 298.8906,818.4844 298.4063,818.2031 C297.9375,817.9531 297.3281,817.7969 296.75,817.7969 C295.0156,817.7969 293.7656,819.1094 293.7656,820.8906 L293.7656,821.9844 C293.7656,823.6875 295.0625,824.7813 297.1094,824.7813 C297.875,824.7813 298.5625,824.6563 298.9844,824.3906 C299.1719,824.2969 299.1719,824.2969 299.625,823.8125 C299.8125,823.625 300.0156,823.5469 300.2344,823.5469 C300.7031,823.5469 301.0938,823.9375 301.0938,824.3906 C301.0938,824.7813 300.7656,825.2344 300.1875,825.6406 C299.4375,826.1875 298.2813,826.4844 297.0625,826.4844 C294.1719,826.4844 292.0625,824.5938 292.0625,822.0156 L292.0625,820.8906 C292.0625,818.1719 294.0625,816.0938 296.6875,816.0938 C297.5625,816.0938 298.1563,816.2344 299.0938,816.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="317.25" y="825.1543">Message</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="171.5" x2="486.5" y1="837" y2="837"/><ellipse cx="181.5" cy="848" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="190.5" y="851.2104">int what</text><ellipse cx="181.5" cy="860.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="190.5" y="864.0151">int arg1</text><ellipse cx="181.5" cy="873.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="190.5" y="876.8198">int arg2</text><ellipse cx="181.5" cy="886.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="190.5" y="889.6245">Object obj</text><ellipse cx="181.5" cy="899.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="190.5" y="902.4292">Messenger replyTo</text><polygon fill="none" points="181.5,908.0234,177.5,914.0234,185.5,914.0234" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="190.5" y="915.2339">Handler target</text><polygon fill="none" points="181.5,920.8281,177.5,926.8281,185.5,926.8281" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="190.5" y="928.0386">Runnable callback</text><polygon fill="none" points="181.5,933.6328,177.5,939.6328,185.5,939.6328" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="190.5" y="940.8433">Message next</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="178.5" y="947.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="190.5" y="953.6479">static Message sPool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="171.5" x2="486.5" y1="960.2422" y2="960.2422"/><ellipse cx="181.5" cy="971.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="190.5" y="974.4526">static obtain(Handler, int, int, int, Object): Message</text><!--MD5=[91a4d0bdf4fe64cafdd82bab0bb5e638]
link Handler to Looper--><path d="M270,248.214 C270,266.34 270,284.982 270,302.924 " fill="none" id="Handler-&gt;Looper" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="270,307.965,274,298.965,270,302.965,266,298.965,270,307.965" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a590457813584ad451e2ca6fbb6ac271]
link Handler to MessageQueue--><path d="M165.936,248.108 C154.096,267.093 143.84,287.325 137,308 C107.878,396.022 114.413,503.197 124.725,576.509 " fill="none" id="Handler-&gt;MessageQueue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="125.474,581.728,128.1553,572.2511,124.7639,576.7787,120.2364,573.3873,125.474,581.728" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[fc82d3fc2235179dd8d765db1e5c63ba]
reverse link Looper to MessageQueue--><path d="M208.215,534.061 C199.755,550.227 191.233,566.513 183.231,581.802 " fill="none" id="Looper&lt;-MessageQueue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="214.356,522.327,208.0298,525.7881,208.7915,532.9589,215.1177,529.4978,214.356,522.327" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[73508f446e2ae2b943c299dee0ba6ab4]
link Handler to Message--><path d="M374.839,248.03 C386.769,267.026 397.104,287.282 404,308 C459.721,475.413 406.207,682.562 365.429,799.756 " fill="none" id="Handler-&gt;Message" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="363.741,804.578,370.4914,797.4064,365.394,799.8591,362.9412,794.7617,363.741,804.578" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9c07db305e3ff654ee7cd158ca67b4ae]
link Looper to Message--><path d="M285.856,522.199 C288.679,542.058 291.509,562.65 294,582 C303.398,655.019 312.684,737.894 319.326,799.573 " fill="none" id="Looper-&gt;Message" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="319.88,804.724,322.8927,795.3472,319.3443,799.7528,314.9388,796.2044,319.88,804.724" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c67d1860692fb43631bd862d880eea11]
reverse link MessageQueue to Message--><path d="M215.862,755.092 C229.349,771.412 243.385,788.397 256.795,804.624 " fill="none" id="MessageQueue&lt;-Message" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="207.546,745.028,208.2847,752.2012,215.1901,754.2782,214.4515,747.1051,207.546,745.028" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[87bc159217e0232d08154daf56cd3c77]
@startuml
class Handler
class Looper
class MessageQueue
class Message

Handler - -> Looper
Handler - -> MessageQueue
Looper *- - MessageQueue
Handler ..> Message
Looper ..> Message
MessageQueue o- - Message

class Handler {
~ Looper mLooper
~ MessageQueue mQueue
~ Callback mCallback
~ boolean mAsynchronous
~ IMessenger mMessenger
+ static createAsync(Looper, Callback)
+ handleMessage(Message)
+ sendMessage(Message): boolean
+ post(Runnable
+ obtainMessage(): Message
+ removeMessages(int, Object)
+ removeCallbacks(Runnable, Object)
+ dispatchMessage(Message)
- enqueueMessage(MessageQueue, Messsage, long): boolean
- static getPostMessage(Runnable): Message
}
class Looper {
~ ThreadLocal<Looper> sThreadLocal
- static Looper sMainLooper
- static Observer sObserver
~ MessageQueue mQueue
~ Thread mThread
+ static loop()
+ static myLooper()
+ static myQueue()
+ static prepare(boolean)
+ static prepareMainLooper()
+ static getMainLooper()
+ static setObserver(Observer)
+ quit()
}
class MessageQueue {
- boolean mQuitting
- boolean mQuiAllowed
- long mPtr
~ next(): Message
~ quit(): boolean
+ postSyncBarrier(long): int
+ removeSyncBarrier(int)
~ enqueueMessage(Message, long): boolean
~ removeMessages(Handler, int, Object)
}
class Message {
+ int what
+ int arg1
+ int arg2
+ Object obj
+ Messenger replyTo
~ Handler target
~ Runnable callback
~ Message next
- static Message sPool
+ static obtain(Handler, int, int, int, Object): Message

}
@enduml

PlantUML version 1.2020.00(Sat Jan 11 12:30:53 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
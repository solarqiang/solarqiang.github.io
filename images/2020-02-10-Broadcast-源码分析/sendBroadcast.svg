<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="605px" preserveAspectRatio="none" style="width:567px;height:605px;" version="1.1" viewBox="0 0 567 605" width="567px" zoomAndPan="magnify"><defs><filter height="300%" id="fa8mf6dc7gfn0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="477.416" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="113" y="69.7988"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="448.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="247" y="99.1094"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="410.7949" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="136.4199"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="178.7305"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="251.041"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="323.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="117.5" x2="117.5" y1="38.4883" y2="565.2148"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="251.5" x2="251.5" y1="38.4883" y2="565.2148"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="495" x2="495" y1="38.4883" y2="565.2148"/><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="81.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="88.5" y="23.5352">Context</text><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="81.5" y="564.2148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="88.5" y="584.75">Context</text><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="164.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="171.5" y="23.5352">ActivityManagerService</text><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="164.5" y="564.2148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="171.5" y="584.75">ActivityManagerService</text><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="430" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="437" y="23.5352">BroadcastQueue</text><rect fill="#FEFECE" filter="url(#fa8mf6dc7gfn0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="430" y="564.2148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="437" y="584.75">BroadcastQueue</text><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="477.416" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="113" y="69.7988"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="448.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="247" y="99.1094"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="410.7949" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="252" y="136.4199"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="178.7305"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="251.041"/><rect fill="#FFFFFF" filter="url(#fa8mf6dc7gfn0)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="257" y="323.3516"/><polygon fill="#A80036" points="101,65.7988,111,69.7988,101,73.7988,105,69.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="107" y1="69.7988" y2="69.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="10" y="65.0566">sendBroadcast</text><polygon fill="#A80036" points="235,95.1094,245,99.1094,235,103.1094,239,99.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="123" x2="241" y1="99.1094" y2="99.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="130" y="94.3672">broadcastIntent</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="257" x2="304" y1="123.4199" y2="123.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304" x2="304" y1="123.4199" y2="136.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="304" y1="136.4199" y2="136.4199"/><polygon fill="#A80036" points="273,132.4199,263,136.4199,273,140.4199,269,136.4199" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="269" y="118.6777">broadcastIntentLocked</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="267" x2="309" y1="170.7305" y2="170.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="170.7305" y2="183.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="309" y1="183.7305" y2="183.7305"/><polygon fill="#A80036" points="278,179.7305,268,183.7305,278,187.7305,274,183.7305" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="274" y="165.9883">collectReceiverComponents</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="267" x2="309" y1="243.041" y2="243.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="243.041" y2="256.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="309" y1="256.041" y2="256.041"/><polygon fill="#A80036" points="278,252.041,268,256.041,278,260.041,274,256.041" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="274" y="238.2988">queryIntent</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="267" x2="309" y1="315.3516" y2="315.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="315.3516" y2="328.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="309" y1="328.3516" y2="328.3516"/><polygon fill="#A80036" points="278,324.3516,268,328.3516,278,332.3516,274,328.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="274" y="310.6094">broadcastQueueForIntent</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="262" x2="304" y1="387.6621" y2="387.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="304" x2="304" y1="387.6621" y2="400.6621"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="304" y1="400.6621" y2="400.6621"/><polygon fill="#A80036" points="273,396.6621,263,400.6621,273,404.6621,269,400.6621" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="269" y="382.9199">new BroadcastRecord</text><polygon fill="#A80036" points="483,425.9727,493,429.9727,483,433.9727,487,429.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="489" y1="429.9727" y2="429.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="269" y="425.2305">enqueueParallelBroadcastLocked</text><polygon fill="#A80036" points="483,455.2832,493,459.2832,483,463.2832,487,459.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="489" y1="459.2832" y2="459.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="269" y="454.541">scheduleBroadcastLocked</text><polygon fill="#A80036" points="483,484.5938,493,488.5938,483,492.5938,487,488.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="489" y1="488.5938" y2="488.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="269" y="483.8516">enqueueOrderedBroadcastLocked</text><polygon fill="#A80036" points="483,513.9043,493,517.9043,483,521.9043,487,517.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="262" x2="489" y1="517.9043" y2="517.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="269" y="513.1621">scheduleBroadcastLocked</text><polygon fill="#A80036" points="14,543.2148,4,547.2148,14,551.2148,10,547.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="251" y1="547.2148" y2="547.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="20" y="542.4727">return SUCCESS</text><!--
@startuml SendBroadcast
[-> Context: sendBroadcast
activate Context
Context -> ActivityManagerService ++: broadcastIntent
ActivityManagerService -> ActivityManagerService ++: broadcastIntentLocked
ActivityManagerService -> ActivityManagerService ++: collectReceiverComponents
deactivate ActivityManagerService
ActivityManagerService -> ActivityManagerService ++: queryIntent
deactivate ActivityManagerService
ActivityManagerService -> ActivityManagerService ++: broadcastQueueForIntent
deactivate ActivityManagerService
ActivityManagerService - -> ActivityManagerService: new BroadcastRecord 
ActivityManagerService -> BroadcastQueue: enqueueParallelBroadcastLocked
ActivityManagerService -> BroadcastQueue: scheduleBroadcastLocked
ActivityManagerService -> BroadcastQueue: enqueueOrderedBroadcastLocked
ActivityManagerService -> BroadcastQueue: scheduleBroadcastLocked
ActivityManagerService - ->[: return SUCCESS
deactivate ActivityManagerService
deactivate ActivityManagerService
deactivate Context
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.2+13
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: US-ASCII
Language: zh
Country: CN
--></g></svg>